(this.webpackJsonpproximity=this.webpackJsonpproximity||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),r=n(4),s=n.n(r),i=(n(10),n(3)),a=n(5),j={good:"#66BB6A",satisfactory:"#9CCC65",moderate:"#D4E157",poor:"#FFA726",veryPoor:"#F44336",severe:"#B71C1C"},l=n(0),d=void 0,b=function(){var e=Object(c.useState)(null),t=Object(a.a)(e,2),n=t[0],o=t[1];Object(c.useEffect)((function(){!function(){var e,t=250,n=new WebSocket("wss://city-ws.herokuapp.com/\u200c");n.onopen=function(){console.log("connected websocket app component"),t=250,clearTimeout(e)},n.onmessage=function(e){var t=JSON.parse(e.data);if(t&&Array.isArray(t)){var n=t.reduce((function(e,t){return t.timestamp=Date.now(),e[t.city]=t,e}),{});o((function(e){return e?Object(i.a)(Object(i.a)({},e),n):n}))}},n.onclose=function(n){console.log("Socket is closed. Reconnect will be attempted in ".concat(Math.min(10,(t+t)/1e3)," second."),n.reason),t+=t,e=setTimeout(r,Math.min(1e4,t))},n.onerror=function(e){console.error("Socket encountered error: ",e.message,"Closing socket"),n.close()}}()}),[]);var r=function(){var e=d.state.ws;e&&e.readyState!==WebSocket.CLOSED||d.connect()};return function(){if(null===n)return Object(l.jsx)("p",{className:"noContent",children:"Loading..."});var e=Object.keys(n);return 0===e.length?Object(l.jsx)("p",{className:"noContent",children:"No Data Found."}):Object(l.jsxs)("table",{cellPadding:"0",cellSpacing:"0",border:"0",className:"apiTable",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"City"}),Object(l.jsx)("td",{children:"Current AQI"}),Object(l.jsx)("td",{children:"Last Updated"})]})}),Object(l.jsx)("tbody",{children:e.map((function(e){var t,c=n[e];return Object(l.jsxs)("tr",{style:{backgroundColor:(t=c.aqi,t>=0&&t<=50?j.good:t>50&&t<=100?j.satisfactory:t>100&&t<=200?j.moderate:t>200&&t<=300?j.poor:t>300&&t<=400?j.veryPoor:t>400&&t<=500?j.severe:void 0)},children:[Object(l.jsx)("td",{children:c.city}),Object(l.jsx)("td",{children:c.aqi.toFixed(2)}),Object(l.jsx)("td",{children:new Date(c.timestamp).toLocaleString()})]},e)}))})]})}()},u=function(){return Object(l.jsxs)("ul",{className:"indicator",children:[Object(l.jsxs)("li",{children:[Object(l.jsx)("span",{style:{backgroundColor:j.good}}),Object(l.jsx)("span",{children:"0-50 (Good)"})]}),Object(l.jsxs)("li",{children:[Object(l.jsx)("span",{style:{backgroundColor:j.satisfactory}}),Object(l.jsx)("span",{children:"50-100 (Satisfactory)"})]}),Object(l.jsxs)("li",{children:[Object(l.jsx)("span",{style:{backgroundColor:j.moderate}}),Object(l.jsx)("span",{children:"100-200 (Moderate)"})]}),Object(l.jsxs)("li",{children:[Object(l.jsx)("span",{style:{backgroundColor:j.poor}}),Object(l.jsx)("span",{children:"200-300 (Poor)"})]}),Object(l.jsxs)("li",{children:[Object(l.jsx)("span",{style:{backgroundColor:j.veryPoor}}),Object(l.jsx)("span",{children:"300-400 (Very Poor)"})]}),Object(l.jsxs)("li",{children:[Object(l.jsx)("span",{style:{backgroundColor:j.severe}}),Object(l.jsx)("span",{children:"400-500 (Severe)"})]})]})},O=(n(12),function(){return Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)("header",{className:"header",children:Object(l.jsx)("h1",{children:"Air Quality Monitoring"})}),Object(l.jsxs)("main",{children:[Object(l.jsx)(u,{}),Object(l.jsx)(b,{})]})]})}),h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),o(e),r(e),s(e)}))};s.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(O,{})}),document.getElementById("root")),h()}},[[13,1,2]]]);
//# sourceMappingURL=main.ca0f6333.chunk.js.map